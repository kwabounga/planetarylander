<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maxi</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="shortcut icon" href="favicon.png" type="image/png" />

  </head>
  <body onload="init()">
    <!-- loader -->
    <div id="loader"><img id="loader-logo" class="rotating"src="./assets/iconkwa.png"></img></div>
    <!-- canvas -->
    <canvas id="game-canvas" width="800" height="600" style="display: none;"></canvas>

    <!---------->
    <!-- libs -->
    <!---------->
    
    <!-- pixi -->
    <script src="./lib/pixi.js"></script>

    <!-- svg stuffs -->
    <script src="./lib/pathseg.js"></script>
    <script src="./lib/decomp.min.js"></script>

    <!-- matter js -->
    <script src="./lib/matter.js"></script>
    
    <!-- gsap (tween) -->
    <script src="./lib/gsap.min.js"></script>
    <script src="./lib/PixiPlugin.min.js"></script>

    <!-- scripts -->
    <script src="./exports/State.js"></script>
    <script src="./exports/tools.js"></script>
    <script src="./exports/Keyboard.js"></script>
    <script src="./exports/Ui.js"></script>
    <script src="./exports/Level.js"></script>
    <script src="./exports/Flag.js"></script>
    <script src="./exports/Stabilizer.js"></script>
    <script src="./exports/Reactor.js"></script>
    <script src="./exports/LanderBody.js"></script>
    <script src="./exports/BonusSprite.js"></script>
    <script src="./exports/Lander.js"></script>
    <script src="./exports/Landers.js"></script>
    <script src="./exports/Terrains.js"></script>
    <script src="./exports/ButtonSprite.js"></script>
    <script src="./exports/Button.js"></script>
    <script src="./exports/MenuBg.js"></script>
    <script src="./exports/Menu.js"></script>
    <script src="./exports/Main.js"></script>

    <script>
        function init(){


            let s = State.getInstance();
            // s.height = Tools.availableSize.height();
            // s.width = Tools.availableSize.width();   
            Tools.ajaxGet(`./data/main.json`, (mdata) => {
              let mData = JSON.parse(mdata);
              s.menuData = mData.menu;
              console.log(s)
              Tools.ajaxGet(`./data/${Tools.getHash()}.json`, (data) => {
              let d = JSON.parse(data);
              let main = new Main(d);
            });
            });
            // FOR DEBUG ONLY
            // TODO: Access to the Menu then loading levels etc.         
            
            
        }

    </script>
  </body>
</html>
